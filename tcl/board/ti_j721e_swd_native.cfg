# SPDX-License-Identifier: GPL-2.0-or-later
# Copyright (C) 2022 Texas Instruments Incorporated - http://www.ti.com/
#
# Texas Instruments TDA4VM/J721E
# Link: https://www.ti.com/product/TDA4VM
#
# This configuration file is used as a self hosted debug configuration that
# works on every TDA4VM platform based on firewall configuration permitted
# in the system.
#
# In this system openOCD runs on one of the CPUs inside TDA4VM and provides
# network ports that can then be used to debug the microcontrollers on the
# SoC - either self hosted IDE OR remotely.

# We are using dmem, which uses dapdirect_swd transport
adapter driver dmem

# DAPBus(Debugger) description: DEBUGSS_WRAP0_CFGAP1
dmem base_address 0x4C40002000
dmem ap_address_offset 0x100
dmem max_aps 8

# The following are the details of APs to be emulated for direct address access.
# Debug Config (Debugger) description DEBUGSS_WRAP0_ROM_TABLE_1_1
# Size is for register access -> Considers the access including main1_r5.1
dmem emu_base_address 0x4C60000000 0x1D600000
dmem emu_ap_list 1
if { ![info exists SOC] } {
        set SOC j721e
}
source [find target/ti_k3.cfg]
adapter speed 2500
