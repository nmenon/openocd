# SPDX-License-Identifier: GPL-2.0-or-later
# Copyright (C) 2022 Texas Instruments Incorporated - http://www.ti.com/
#
# Texas Instruments am625
# Link: https://www.ti.com/product/AM625
#
# This configuration file is used as a self hosted debug configuration that
# works on every AM625 platform based on firewall configuration permitted
# in the system.
#
# In this system openOCD runs on one of the CPUs inside AM625 and provides
# network ports that can then be used to debug the microcontrollers on the
# SoC - either self hosted IDE OR remotely.

# We are using dmem, which uses dapdirect_swd transport
adapter driver dmem

if { ![info exists SOC] } {
	set SOC am625
}

source [find target/ti_k3.cfg]

# DAPBUS (Debugger) description
dmem base_address $dmem_base_address
dmem ap_address_offset $dmem_ap_address_offset
dmem max_aps $dmem_max_aps

# The following are the details of APs to be emulated for direct address access.
# Debug Config (Debugger) description
dmem emu_base_address $dmem_emu_base_address $dmem_emu_base_address_map
dmem emu_ap_list $dmem_emu_ap_list

adapter speed 2500
